{"ast":null,"code":"import * as i0 from '@angular/core';\nimport { Injectable, Inject } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { auditTime, finalize, map, filter, takeUntil, startWith, distinctUntilChanged } from 'rxjs/operators';\nimport { environment } from 'ng-zorro-antd/core/environments';\nimport { getEventPosition, isTouchEvent } from 'ng-zorro-antd/core/util';\nimport { DOCUMENT } from '@angular/common';\nimport { reqAnimFrame } from 'ng-zorro-antd/core/polyfill';\nimport * as i2 from '@angular/cdk/layout';\nimport * as i1 from '@angular/cdk/platform';\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nconst NOOP = () => {};\n\nclass NzResizeService {\n  constructor(ngZone, rendererFactory2) {\n    this.ngZone = ngZone;\n    this.rendererFactory2 = rendererFactory2;\n    this.resizeSource$ = new Subject();\n    this.listeners = 0;\n    this.disposeHandle = NOOP;\n\n    this.handler = () => {\n      this.ngZone.run(() => {\n        this.resizeSource$.next();\n      });\n    };\n\n    this.renderer = this.rendererFactory2.createRenderer(null, null);\n  }\n\n  ngOnDestroy() {\n    // Caretaker note: the `handler` is an instance property (it's not defined on the class prototype).\n    // The `handler` captures `this` and prevents the `NzResizeService` from being GC'd.\n    this.handler = NOOP;\n  }\n\n  subscribe() {\n    this.registerListener();\n    return this.resizeSource$.pipe(auditTime(16), finalize(() => this.unregisterListener()));\n  }\n\n  unsubscribe() {\n    this.unregisterListener();\n  }\n\n  registerListener() {\n    if (this.listeners === 0) {\n      this.ngZone.runOutsideAngular(() => {\n        this.disposeHandle = this.renderer.listen('window', 'resize', this.handler);\n      });\n    }\n\n    this.listeners += 1;\n  }\n\n  unregisterListener() {\n    this.listeners -= 1;\n\n    if (this.listeners === 0) {\n      this.disposeHandle();\n      this.disposeHandle = NOOP;\n    }\n  }\n\n}\n\nNzResizeService.ɵfac = function NzResizeService_Factory(t) {\n  return new (t || NzResizeService)(i0.ɵɵinject(i0.NgZone), i0.ɵɵinject(i0.RendererFactory2));\n};\n\nNzResizeService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: NzResizeService,\n  factory: NzResizeService.ɵfac,\n  providedIn: 'root'\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NzResizeService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: i0.NgZone\n    }, {\n      type: i0.RendererFactory2\n    }];\n  }, null);\n})();\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n/**\n * When running in test, singletons should not be destroyed. So we keep references of singletons\n * in this global variable.\n */\n\n\nconst testSingleRegistry = new Map();\n/**\n * Some singletons should have life cycle that is same to Angular's. This service make sure that\n * those singletons get destroyed in HMR.\n */\n\nclass NzSingletonService {\n  constructor() {\n    /**\n     * This registry is used to register singleton in dev mode.\n     * So that singletons get destroyed when hot module reload happens.\n     *\n     * This works in prod mode too but with no specific effect.\n     */\n    this._singletonRegistry = new Map();\n  }\n\n  get singletonRegistry() {\n    return environment.isTestMode ? testSingleRegistry : this._singletonRegistry;\n  }\n\n  registerSingletonWithKey(key, target) {\n    const alreadyHave = this.singletonRegistry.has(key);\n    const item = alreadyHave ? this.singletonRegistry.get(key) : this.withNewTarget(target);\n\n    if (!alreadyHave) {\n      this.singletonRegistry.set(key, item);\n    }\n  }\n\n  getSingletonWithKey(key) {\n    return this.singletonRegistry.has(key) ? this.singletonRegistry.get(key).target : null;\n  }\n\n  withNewTarget(target) {\n    return {\n      target\n    };\n  }\n\n}\n\nNzSingletonService.ɵfac = function NzSingletonService_Factory(t) {\n  return new (t || NzSingletonService)();\n};\n\nNzSingletonService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: NzSingletonService,\n  factory: NzSingletonService.ɵfac,\n  providedIn: 'root'\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NzSingletonService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], null, null);\n})();\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nfunction getPagePosition(event) {\n  const e = getEventPosition(event);\n  return {\n    x: e.pageX,\n    y: e.pageY\n  };\n}\n/**\n * This module provide a global dragging service to other components.\n */\n\n\nclass NzDragService {\n  constructor(rendererFactory2) {\n    this.draggingThreshold = 5;\n    this.currentDraggingSequence = null;\n    this.currentStartingPoint = null;\n    this.handleRegistry = new Set();\n    this.renderer = rendererFactory2.createRenderer(null, null);\n  }\n\n  requestDraggingSequence(event) {\n    if (!this.handleRegistry.size) {\n      this.registerDraggingHandler(isTouchEvent(event));\n    } // Complete last dragging sequence if a new target is dragged.\n\n\n    if (this.currentDraggingSequence) {\n      this.currentDraggingSequence.complete();\n    }\n\n    this.currentStartingPoint = getPagePosition(event);\n    this.currentDraggingSequence = new Subject();\n    return this.currentDraggingSequence.pipe(map(e => ({\n      x: e.pageX - this.currentStartingPoint.x,\n      y: e.pageY - this.currentStartingPoint.y\n    })), filter(e => Math.abs(e.x) > this.draggingThreshold || Math.abs(e.y) > this.draggingThreshold), finalize(() => this.teardownDraggingSequence()));\n  }\n\n  registerDraggingHandler(isTouch) {\n    if (isTouch) {\n      this.handleRegistry.add({\n        teardown: this.renderer.listen('document', 'touchmove', e => {\n          if (this.currentDraggingSequence) {\n            this.currentDraggingSequence.next(e.touches[0] || e.changedTouches[0]);\n          }\n        })\n      });\n      this.handleRegistry.add({\n        teardown: this.renderer.listen('document', 'touchend', () => {\n          if (this.currentDraggingSequence) {\n            this.currentDraggingSequence.complete();\n          }\n        })\n      });\n    } else {\n      this.handleRegistry.add({\n        teardown: this.renderer.listen('document', 'mousemove', e => {\n          if (this.currentDraggingSequence) {\n            this.currentDraggingSequence.next(e);\n          }\n        })\n      });\n      this.handleRegistry.add({\n        teardown: this.renderer.listen('document', 'mouseup', () => {\n          if (this.currentDraggingSequence) {\n            this.currentDraggingSequence.complete();\n          }\n        })\n      });\n    }\n  }\n\n  teardownDraggingSequence() {\n    this.currentDraggingSequence = null;\n  }\n\n}\n\nNzDragService.ɵfac = function NzDragService_Factory(t) {\n  return new (t || NzDragService)(i0.ɵɵinject(i0.RendererFactory2));\n};\n\nNzDragService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: NzDragService,\n  factory: NzDragService.ɵfac,\n  providedIn: 'root'\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NzDragService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: i0.RendererFactory2\n    }];\n  }, null);\n})();\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nfunction easeInOutCubic(t, b, c, d) {\n  const cc = c - b;\n  let tt = t / (d / 2);\n\n  if (tt < 1) {\n    return cc / 2 * tt * tt * tt + b;\n  } else {\n    return cc / 2 * ((tt -= 2) * tt * tt + 2) + b;\n  }\n}\n\nclass NzScrollService {\n  constructor(ngZone, doc) {\n    this.ngZone = ngZone;\n    this.doc = doc;\n  }\n  /** Set the position of the scroll bar of `el`. */\n\n\n  setScrollTop(el, topValue = 0) {\n    if (el === window) {\n      this.doc.body.scrollTop = topValue;\n      this.doc.documentElement.scrollTop = topValue;\n    } else {\n      el.scrollTop = topValue;\n    }\n  }\n  /** Get position of `el` against window. */\n\n\n  getOffset(el) {\n    const ret = {\n      top: 0,\n      left: 0\n    };\n\n    if (!el || !el.getClientRects().length) {\n      return ret;\n    }\n\n    const rect = el.getBoundingClientRect();\n\n    if (rect.width || rect.height) {\n      const doc = el.ownerDocument.documentElement;\n      ret.top = rect.top - doc.clientTop;\n      ret.left = rect.left - doc.clientLeft;\n    } else {\n      ret.top = rect.top;\n      ret.left = rect.left;\n    }\n\n    return ret;\n  }\n  /** Get the position of the scoll bar of `el`. */\n  // TODO: remove '| Window' as the fallback already happens here\n\n\n  getScroll(target, top = true) {\n    if (typeof window === 'undefined') {\n      return 0;\n    }\n\n    const method = top ? 'scrollTop' : 'scrollLeft';\n    let result = 0;\n\n    if (this.isWindow(target)) {\n      result = target[top ? 'pageYOffset' : 'pageXOffset'];\n    } else if (target instanceof Document) {\n      result = target.documentElement[method];\n    } else if (target) {\n      result = target[method];\n    }\n\n    if (target && !this.isWindow(target) && typeof result !== 'number') {\n      result = (target.ownerDocument || target).documentElement[method];\n    }\n\n    return result;\n  }\n\n  isWindow(obj) {\n    return obj !== null && obj !== undefined && obj === obj.window;\n  }\n  /**\n   * Scroll `el` to some position with animation.\n   *\n   * @param containerEl container, `window` by default\n   * @param y Scroll to `top`, 0 by default\n   */\n\n\n  scrollTo(containerEl, y = 0, options = {}) {\n    const target = containerEl ? containerEl : window;\n    const scrollTop = this.getScroll(target);\n    const startTime = Date.now();\n    const {\n      easing,\n      callback,\n      duration = 450\n    } = options;\n\n    const frameFunc = () => {\n      const timestamp = Date.now();\n      const time = timestamp - startTime;\n      const nextScrollTop = (easing || easeInOutCubic)(time > duration ? duration : time, scrollTop, y, duration);\n\n      if (this.isWindow(target)) {\n        target.scrollTo(window.pageXOffset, nextScrollTop);\n      } else if (target instanceof HTMLDocument || target.constructor.name === 'HTMLDocument') {\n        target.documentElement.scrollTop = nextScrollTop;\n      } else {\n        target.scrollTop = nextScrollTop;\n      }\n\n      if (time < duration) {\n        reqAnimFrame(frameFunc);\n      } else if (typeof callback === 'function') {\n        // Caretaker note: the `frameFunc` is called within the `<root>` zone, but we have to re-enter\n        // the Angular zone when calling custom callback to be backwards-compatible.\n        this.ngZone.run(callback);\n      }\n    }; // Caretaker note: the `requestAnimationFrame` triggers change detection, but updating a `scrollTop` property or\n    // calling `window.scrollTo` doesn't require Angular to run `ApplicationRef.tick()`.\n\n\n    this.ngZone.runOutsideAngular(() => reqAnimFrame(frameFunc));\n  }\n\n}\n\nNzScrollService.ɵfac = function NzScrollService_Factory(t) {\n  return new (t || NzScrollService)(i0.ɵɵinject(i0.NgZone), i0.ɵɵinject(DOCUMENT));\n};\n\nNzScrollService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: NzScrollService,\n  factory: NzScrollService.ɵfac,\n  providedIn: 'root'\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NzScrollService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: i0.NgZone\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [DOCUMENT]\n      }]\n    }];\n  }, null);\n})();\n\nvar NzBreakpointEnum;\n\n(function (NzBreakpointEnum) {\n  NzBreakpointEnum[\"xxl\"] = \"xxl\";\n  NzBreakpointEnum[\"xl\"] = \"xl\";\n  NzBreakpointEnum[\"lg\"] = \"lg\";\n  NzBreakpointEnum[\"md\"] = \"md\";\n  NzBreakpointEnum[\"sm\"] = \"sm\";\n  NzBreakpointEnum[\"xs\"] = \"xs\";\n})(NzBreakpointEnum || (NzBreakpointEnum = {}));\n\nconst gridResponsiveMap = {\n  xs: '(max-width: 575px)',\n  sm: '(min-width: 576px)',\n  md: '(min-width: 768px)',\n  lg: '(min-width: 992px)',\n  xl: '(min-width: 1200px)',\n  xxl: '(min-width: 1600px)'\n};\nconst siderResponsiveMap = {\n  xs: '(max-width: 479.98px)',\n  sm: '(max-width: 575.98px)',\n  md: '(max-width: 767.98px)',\n  lg: '(max-width: 991.98px)',\n  xl: '(max-width: 1199.98px)',\n  xxl: '(max-width: 1599.98px)'\n};\n\nclass NzBreakpointService {\n  constructor(resizeService, mediaMatcher) {\n    this.resizeService = resizeService;\n    this.mediaMatcher = mediaMatcher;\n    this.destroy$ = new Subject();\n    this.resizeService.subscribe().pipe(takeUntil(this.destroy$)).subscribe(() => {});\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next();\n  }\n\n  subscribe(breakpointMap, fullMap) {\n    if (fullMap) {\n      // eslint-disable-next-line @typescript-eslint/explicit-function-return-type\n      const get = () => this.matchMedia(breakpointMap, true);\n\n      return this.resizeService.subscribe().pipe(map(get), startWith(get()), distinctUntilChanged((x, y) => x[0] === y[0]), map(x => x[1]));\n    } else {\n      // eslint-disable-next-line @typescript-eslint/explicit-function-return-type\n      const get = () => this.matchMedia(breakpointMap);\n\n      return this.resizeService.subscribe().pipe(map(get), startWith(get()), distinctUntilChanged());\n    }\n  }\n\n  matchMedia(breakpointMap, fullMap) {\n    let bp = NzBreakpointEnum.md;\n    const breakpointBooleanMap = {};\n    Object.keys(breakpointMap).map(breakpoint => {\n      const castBP = breakpoint;\n      const matched = this.mediaMatcher.matchMedia(gridResponsiveMap[castBP]).matches;\n      breakpointBooleanMap[breakpoint] = matched;\n\n      if (matched) {\n        bp = castBP;\n      }\n    });\n\n    if (fullMap) {\n      return [bp, breakpointBooleanMap];\n    } else {\n      return bp;\n    }\n  }\n\n}\n\nNzBreakpointService.ɵfac = function NzBreakpointService_Factory(t) {\n  return new (t || NzBreakpointService)(i0.ɵɵinject(NzResizeService), i0.ɵɵinject(i2.MediaMatcher));\n};\n\nNzBreakpointService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: NzBreakpointService,\n  factory: NzBreakpointService.ɵfac,\n  providedIn: 'root'\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NzBreakpointService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: NzResizeService\n    }, {\n      type: i2.MediaMatcher\n    }];\n  }, null);\n})();\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nclass NzDestroyService extends Subject {\n  ngOnDestroy() {\n    this.next();\n    this.complete();\n  }\n\n}\n\nNzDestroyService.ɵfac = /* @__PURE__ */function () {\n  let ɵNzDestroyService_BaseFactory;\n  return function NzDestroyService_Factory(t) {\n    return (ɵNzDestroyService_BaseFactory || (ɵNzDestroyService_BaseFactory = i0.ɵɵgetInheritedFactory(NzDestroyService)))(t || NzDestroyService);\n  };\n}();\n\nNzDestroyService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: NzDestroyService,\n  factory: NzDestroyService.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NzDestroyService, [{\n    type: Injectable\n  }], null, null);\n})();\n\nclass ImagePreloadService {\n  constructor(document, platform) {\n    this.document = document;\n    this.platform = platform;\n    this.counter = new Map();\n    this.linkRefs = new Map();\n  }\n\n  addPreload(option) {\n    if (this.platform.isBrowser) {\n      return () => void 0;\n    }\n\n    const uniqueKey = `${option.src}${option.srcset}`;\n    let currentCount = this.counter.get(uniqueKey) || 0;\n    currentCount++;\n    this.counter.set(uniqueKey, currentCount);\n\n    if (!this.linkRefs.has(uniqueKey)) {\n      const linkNode = this.appendPreloadLink(option);\n      this.linkRefs.set(uniqueKey, linkNode);\n    }\n\n    return () => {\n      if (this.counter.has(uniqueKey)) {\n        let count = this.counter.get(uniqueKey);\n        count--;\n\n        if (count === 0) {\n          const linkNode = this.linkRefs.get(uniqueKey);\n          this.removePreloadLink(linkNode);\n          this.counter.delete(uniqueKey);\n          this.linkRefs.delete(uniqueKey);\n        } else {\n          this.counter.set(uniqueKey, count);\n        }\n      }\n    };\n  }\n\n  appendPreloadLink(option) {\n    const linkNode = this.document.createElement('link');\n    linkNode.setAttribute('rel', 'preload');\n    linkNode.setAttribute('as', 'image');\n    linkNode.setAttribute('href', option.src);\n\n    if (option.srcset) {\n      linkNode.setAttribute('imagesrcset', option.srcset);\n    }\n\n    this.document.head.appendChild(linkNode);\n    return linkNode;\n  }\n\n  removePreloadLink(linkNode) {\n    if (this.document.head.contains(linkNode)) {\n      this.document.head.removeChild(linkNode);\n    }\n  }\n\n}\n\nImagePreloadService.ɵfac = function ImagePreloadService_Factory(t) {\n  return new (t || ImagePreloadService)(i0.ɵɵinject(DOCUMENT), i0.ɵɵinject(i1.Platform));\n};\n\nImagePreloadService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: ImagePreloadService,\n  factory: ImagePreloadService.ɵfac,\n  providedIn: 'root'\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ImagePreloadService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [DOCUMENT]\n      }]\n    }, {\n      type: i1.Platform\n    }];\n  }, null);\n})();\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { ImagePreloadService, NzBreakpointEnum, NzBreakpointService, NzDestroyService, NzDragService, NzResizeService, NzScrollService, NzSingletonService, gridResponsiveMap, siderResponsiveMap };","map":{"version":3,"sources":["C:/Users/David/Desktop/GitHub Repos/SIS/node_modules/ng-zorro-antd/fesm2015/ng-zorro-antd-core-services.mjs"],"names":["i0","Injectable","Inject","Subject","auditTime","finalize","map","filter","takeUntil","startWith","distinctUntilChanged","environment","getEventPosition","isTouchEvent","DOCUMENT","reqAnimFrame","i2","i1","NOOP","NzResizeService","constructor","ngZone","rendererFactory2","resizeSource$","listeners","disposeHandle","handler","run","next","renderer","createRenderer","ngOnDestroy","subscribe","registerListener","pipe","unregisterListener","unsubscribe","runOutsideAngular","listen","ɵfac","NgZone","RendererFactory2","ɵprov","type","args","providedIn","testSingleRegistry","Map","NzSingletonService","_singletonRegistry","singletonRegistry","isTestMode","registerSingletonWithKey","key","target","alreadyHave","has","item","get","withNewTarget","set","getSingletonWithKey","getPagePosition","event","e","x","pageX","y","pageY","NzDragService","draggingThreshold","currentDraggingSequence","currentStartingPoint","handleRegistry","Set","requestDraggingSequence","size","registerDraggingHandler","complete","Math","abs","teardownDraggingSequence","isTouch","add","teardown","touches","changedTouches","easeInOutCubic","t","b","c","d","cc","tt","NzScrollService","doc","setScrollTop","el","topValue","window","body","scrollTop","documentElement","getOffset","ret","top","left","getClientRects","length","rect","getBoundingClientRect","width","height","ownerDocument","clientTop","clientLeft","getScroll","method","result","isWindow","Document","obj","undefined","scrollTo","containerEl","options","startTime","Date","now","easing","callback","duration","frameFunc","timestamp","time","nextScrollTop","pageXOffset","HTMLDocument","name","decorators","NzBreakpointEnum","gridResponsiveMap","xs","sm","md","lg","xl","xxl","siderResponsiveMap","NzBreakpointService","resizeService","mediaMatcher","destroy$","breakpointMap","fullMap","matchMedia","bp","breakpointBooleanMap","Object","keys","breakpoint","castBP","matched","matches","MediaMatcher","NzDestroyService","ImagePreloadService","document","platform","counter","linkRefs","addPreload","option","isBrowser","uniqueKey","src","srcset","currentCount","linkNode","appendPreloadLink","count","removePreloadLink","delete","createElement","setAttribute","head","appendChild","contains","removeChild","Platform"],"mappings":"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","sourcesContent":["import * as i0 from '@angular/core';\nimport { Injectable, Inject } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { auditTime, finalize, map, filter, takeUntil, startWith, distinctUntilChanged } from 'rxjs/operators';\nimport { environment } from 'ng-zorro-antd/core/environments';\nimport { getEventPosition, isTouchEvent } from 'ng-zorro-antd/core/util';\nimport { DOCUMENT } from '@angular/common';\nimport { reqAnimFrame } from 'ng-zorro-antd/core/polyfill';\nimport * as i2 from '@angular/cdk/layout';\nimport * as i1 from '@angular/cdk/platform';\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nconst NOOP = () => { };\nclass NzResizeService {\n    constructor(ngZone, rendererFactory2) {\n        this.ngZone = ngZone;\n        this.rendererFactory2 = rendererFactory2;\n        this.resizeSource$ = new Subject();\n        this.listeners = 0;\n        this.disposeHandle = NOOP;\n        this.handler = () => {\n            this.ngZone.run(() => {\n                this.resizeSource$.next();\n            });\n        };\n        this.renderer = this.rendererFactory2.createRenderer(null, null);\n    }\n    ngOnDestroy() {\n        // Caretaker note: the `handler` is an instance property (it's not defined on the class prototype).\n        // The `handler` captures `this` and prevents the `NzResizeService` from being GC'd.\n        this.handler = NOOP;\n    }\n    subscribe() {\n        this.registerListener();\n        return this.resizeSource$.pipe(auditTime(16), finalize(() => this.unregisterListener()));\n    }\n    unsubscribe() {\n        this.unregisterListener();\n    }\n    registerListener() {\n        if (this.listeners === 0) {\n            this.ngZone.runOutsideAngular(() => {\n                this.disposeHandle = this.renderer.listen('window', 'resize', this.handler);\n            });\n        }\n        this.listeners += 1;\n    }\n    unregisterListener() {\n        this.listeners -= 1;\n        if (this.listeners === 0) {\n            this.disposeHandle();\n            this.disposeHandle = NOOP;\n        }\n    }\n}\nNzResizeService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.2.5\", ngImport: i0, type: NzResizeService, deps: [{ token: i0.NgZone }, { token: i0.RendererFactory2 }], target: i0.ɵɵFactoryTarget.Injectable });\nNzResizeService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.2.5\", ngImport: i0, type: NzResizeService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.2.5\", ngImport: i0, type: NzResizeService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i0.NgZone }, { type: i0.RendererFactory2 }]; } });\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n/**\n * When running in test, singletons should not be destroyed. So we keep references of singletons\n * in this global variable.\n */\nconst testSingleRegistry = new Map();\n/**\n * Some singletons should have life cycle that is same to Angular's. This service make sure that\n * those singletons get destroyed in HMR.\n */\nclass NzSingletonService {\n    constructor() {\n        /**\n         * This registry is used to register singleton in dev mode.\n         * So that singletons get destroyed when hot module reload happens.\n         *\n         * This works in prod mode too but with no specific effect.\n         */\n        this._singletonRegistry = new Map();\n    }\n    get singletonRegistry() {\n        return environment.isTestMode ? testSingleRegistry : this._singletonRegistry;\n    }\n    registerSingletonWithKey(key, target) {\n        const alreadyHave = this.singletonRegistry.has(key);\n        const item = alreadyHave ? this.singletonRegistry.get(key) : this.withNewTarget(target);\n        if (!alreadyHave) {\n            this.singletonRegistry.set(key, item);\n        }\n    }\n    getSingletonWithKey(key) {\n        return this.singletonRegistry.has(key) ? this.singletonRegistry.get(key).target : null;\n    }\n    withNewTarget(target) {\n        return {\n            target\n        };\n    }\n}\nNzSingletonService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.2.5\", ngImport: i0, type: NzSingletonService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nNzSingletonService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.2.5\", ngImport: i0, type: NzSingletonService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.2.5\", ngImport: i0, type: NzSingletonService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }] });\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nfunction getPagePosition(event) {\n    const e = getEventPosition(event);\n    return {\n        x: e.pageX,\n        y: e.pageY\n    };\n}\n/**\n * This module provide a global dragging service to other components.\n */\nclass NzDragService {\n    constructor(rendererFactory2) {\n        this.draggingThreshold = 5;\n        this.currentDraggingSequence = null;\n        this.currentStartingPoint = null;\n        this.handleRegistry = new Set();\n        this.renderer = rendererFactory2.createRenderer(null, null);\n    }\n    requestDraggingSequence(event) {\n        if (!this.handleRegistry.size) {\n            this.registerDraggingHandler(isTouchEvent(event));\n        }\n        // Complete last dragging sequence if a new target is dragged.\n        if (this.currentDraggingSequence) {\n            this.currentDraggingSequence.complete();\n        }\n        this.currentStartingPoint = getPagePosition(event);\n        this.currentDraggingSequence = new Subject();\n        return this.currentDraggingSequence.pipe(map((e) => ({\n            x: e.pageX - this.currentStartingPoint.x,\n            y: e.pageY - this.currentStartingPoint.y\n        })), filter((e) => Math.abs(e.x) > this.draggingThreshold || Math.abs(e.y) > this.draggingThreshold), finalize(() => this.teardownDraggingSequence()));\n    }\n    registerDraggingHandler(isTouch) {\n        if (isTouch) {\n            this.handleRegistry.add({\n                teardown: this.renderer.listen('document', 'touchmove', (e) => {\n                    if (this.currentDraggingSequence) {\n                        this.currentDraggingSequence.next(e.touches[0] || e.changedTouches[0]);\n                    }\n                })\n            });\n            this.handleRegistry.add({\n                teardown: this.renderer.listen('document', 'touchend', () => {\n                    if (this.currentDraggingSequence) {\n                        this.currentDraggingSequence.complete();\n                    }\n                })\n            });\n        }\n        else {\n            this.handleRegistry.add({\n                teardown: this.renderer.listen('document', 'mousemove', e => {\n                    if (this.currentDraggingSequence) {\n                        this.currentDraggingSequence.next(e);\n                    }\n                })\n            });\n            this.handleRegistry.add({\n                teardown: this.renderer.listen('document', 'mouseup', () => {\n                    if (this.currentDraggingSequence) {\n                        this.currentDraggingSequence.complete();\n                    }\n                })\n            });\n        }\n    }\n    teardownDraggingSequence() {\n        this.currentDraggingSequence = null;\n    }\n}\nNzDragService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.2.5\", ngImport: i0, type: NzDragService, deps: [{ token: i0.RendererFactory2 }], target: i0.ɵɵFactoryTarget.Injectable });\nNzDragService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.2.5\", ngImport: i0, type: NzDragService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.2.5\", ngImport: i0, type: NzDragService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i0.RendererFactory2 }]; } });\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nfunction easeInOutCubic(t, b, c, d) {\n    const cc = c - b;\n    let tt = t / (d / 2);\n    if (tt < 1) {\n        return (cc / 2) * tt * tt * tt + b;\n    }\n    else {\n        return (cc / 2) * ((tt -= 2) * tt * tt + 2) + b;\n    }\n}\nclass NzScrollService {\n    constructor(ngZone, doc) {\n        this.ngZone = ngZone;\n        this.doc = doc;\n    }\n    /** Set the position of the scroll bar of `el`. */\n    setScrollTop(el, topValue = 0) {\n        if (el === window) {\n            this.doc.body.scrollTop = topValue;\n            this.doc.documentElement.scrollTop = topValue;\n        }\n        else {\n            el.scrollTop = topValue;\n        }\n    }\n    /** Get position of `el` against window. */\n    getOffset(el) {\n        const ret = {\n            top: 0,\n            left: 0\n        };\n        if (!el || !el.getClientRects().length) {\n            return ret;\n        }\n        const rect = el.getBoundingClientRect();\n        if (rect.width || rect.height) {\n            const doc = el.ownerDocument.documentElement;\n            ret.top = rect.top - doc.clientTop;\n            ret.left = rect.left - doc.clientLeft;\n        }\n        else {\n            ret.top = rect.top;\n            ret.left = rect.left;\n        }\n        return ret;\n    }\n    /** Get the position of the scoll bar of `el`. */\n    // TODO: remove '| Window' as the fallback already happens here\n    getScroll(target, top = true) {\n        if (typeof window === 'undefined') {\n            return 0;\n        }\n        const method = top ? 'scrollTop' : 'scrollLeft';\n        let result = 0;\n        if (this.isWindow(target)) {\n            result = target[top ? 'pageYOffset' : 'pageXOffset'];\n        }\n        else if (target instanceof Document) {\n            result = target.documentElement[method];\n        }\n        else if (target) {\n            result = target[method];\n        }\n        if (target && !this.isWindow(target) && typeof result !== 'number') {\n            result = (target.ownerDocument || target).documentElement[method];\n        }\n        return result;\n    }\n    isWindow(obj) {\n        return obj !== null && obj !== undefined && obj === obj.window;\n    }\n    /**\n     * Scroll `el` to some position with animation.\n     *\n     * @param containerEl container, `window` by default\n     * @param y Scroll to `top`, 0 by default\n     */\n    scrollTo(containerEl, y = 0, options = {}) {\n        const target = containerEl ? containerEl : window;\n        const scrollTop = this.getScroll(target);\n        const startTime = Date.now();\n        const { easing, callback, duration = 450 } = options;\n        const frameFunc = () => {\n            const timestamp = Date.now();\n            const time = timestamp - startTime;\n            const nextScrollTop = (easing || easeInOutCubic)(time > duration ? duration : time, scrollTop, y, duration);\n            if (this.isWindow(target)) {\n                target.scrollTo(window.pageXOffset, nextScrollTop);\n            }\n            else if (target instanceof HTMLDocument || target.constructor.name === 'HTMLDocument') {\n                target.documentElement.scrollTop = nextScrollTop;\n            }\n            else {\n                target.scrollTop = nextScrollTop;\n            }\n            if (time < duration) {\n                reqAnimFrame(frameFunc);\n            }\n            else if (typeof callback === 'function') {\n                // Caretaker note: the `frameFunc` is called within the `<root>` zone, but we have to re-enter\n                // the Angular zone when calling custom callback to be backwards-compatible.\n                this.ngZone.run(callback);\n            }\n        };\n        // Caretaker note: the `requestAnimationFrame` triggers change detection, but updating a `scrollTop` property or\n        // calling `window.scrollTo` doesn't require Angular to run `ApplicationRef.tick()`.\n        this.ngZone.runOutsideAngular(() => reqAnimFrame(frameFunc));\n    }\n}\nNzScrollService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.2.5\", ngImport: i0, type: NzScrollService, deps: [{ token: i0.NgZone }, { token: DOCUMENT }], target: i0.ɵɵFactoryTarget.Injectable });\nNzScrollService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.2.5\", ngImport: i0, type: NzScrollService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.2.5\", ngImport: i0, type: NzScrollService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () {\n        return [{ type: i0.NgZone }, { type: undefined, decorators: [{\n                        type: Inject,\n                        args: [DOCUMENT]\n                    }] }];\n    } });\n\nvar NzBreakpointEnum;\n(function (NzBreakpointEnum) {\n    NzBreakpointEnum[\"xxl\"] = \"xxl\";\n    NzBreakpointEnum[\"xl\"] = \"xl\";\n    NzBreakpointEnum[\"lg\"] = \"lg\";\n    NzBreakpointEnum[\"md\"] = \"md\";\n    NzBreakpointEnum[\"sm\"] = \"sm\";\n    NzBreakpointEnum[\"xs\"] = \"xs\";\n})(NzBreakpointEnum || (NzBreakpointEnum = {}));\nconst gridResponsiveMap = {\n    xs: '(max-width: 575px)',\n    sm: '(min-width: 576px)',\n    md: '(min-width: 768px)',\n    lg: '(min-width: 992px)',\n    xl: '(min-width: 1200px)',\n    xxl: '(min-width: 1600px)'\n};\nconst siderResponsiveMap = {\n    xs: '(max-width: 479.98px)',\n    sm: '(max-width: 575.98px)',\n    md: '(max-width: 767.98px)',\n    lg: '(max-width: 991.98px)',\n    xl: '(max-width: 1199.98px)',\n    xxl: '(max-width: 1599.98px)'\n};\nclass NzBreakpointService {\n    constructor(resizeService, mediaMatcher) {\n        this.resizeService = resizeService;\n        this.mediaMatcher = mediaMatcher;\n        this.destroy$ = new Subject();\n        this.resizeService\n            .subscribe()\n            .pipe(takeUntil(this.destroy$))\n            .subscribe(() => { });\n    }\n    ngOnDestroy() {\n        this.destroy$.next();\n    }\n    subscribe(breakpointMap, fullMap) {\n        if (fullMap) {\n            // eslint-disable-next-line @typescript-eslint/explicit-function-return-type\n            const get = () => this.matchMedia(breakpointMap, true);\n            return this.resizeService.subscribe().pipe(map(get), startWith(get()), distinctUntilChanged((x, y) => x[0] === y[0]), map(x => x[1]));\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/explicit-function-return-type\n            const get = () => this.matchMedia(breakpointMap);\n            return this.resizeService.subscribe().pipe(map(get), startWith(get()), distinctUntilChanged());\n        }\n    }\n    matchMedia(breakpointMap, fullMap) {\n        let bp = NzBreakpointEnum.md;\n        const breakpointBooleanMap = {};\n        Object.keys(breakpointMap).map(breakpoint => {\n            const castBP = breakpoint;\n            const matched = this.mediaMatcher.matchMedia(gridResponsiveMap[castBP]).matches;\n            breakpointBooleanMap[breakpoint] = matched;\n            if (matched) {\n                bp = castBP;\n            }\n        });\n        if (fullMap) {\n            return [bp, breakpointBooleanMap];\n        }\n        else {\n            return bp;\n        }\n    }\n}\nNzBreakpointService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.2.5\", ngImport: i0, type: NzBreakpointService, deps: [{ token: NzResizeService }, { token: i2.MediaMatcher }], target: i0.ɵɵFactoryTarget.Injectable });\nNzBreakpointService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.2.5\", ngImport: i0, type: NzBreakpointService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.2.5\", ngImport: i0, type: NzBreakpointService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: NzResizeService }, { type: i2.MediaMatcher }]; } });\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nclass NzDestroyService extends Subject {\n    ngOnDestroy() {\n        this.next();\n        this.complete();\n    }\n}\nNzDestroyService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.2.5\", ngImport: i0, type: NzDestroyService, deps: null, target: i0.ɵɵFactoryTarget.Injectable });\nNzDestroyService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.2.5\", ngImport: i0, type: NzDestroyService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.2.5\", ngImport: i0, type: NzDestroyService, decorators: [{\n            type: Injectable\n        }] });\n\nclass ImagePreloadService {\n    constructor(document, platform) {\n        this.document = document;\n        this.platform = platform;\n        this.counter = new Map();\n        this.linkRefs = new Map();\n    }\n    addPreload(option) {\n        if (this.platform.isBrowser) {\n            return () => void 0;\n        }\n        const uniqueKey = `${option.src}${option.srcset}`;\n        let currentCount = this.counter.get(uniqueKey) || 0;\n        currentCount++;\n        this.counter.set(uniqueKey, currentCount);\n        if (!this.linkRefs.has(uniqueKey)) {\n            const linkNode = this.appendPreloadLink(option);\n            this.linkRefs.set(uniqueKey, linkNode);\n        }\n        return () => {\n            if (this.counter.has(uniqueKey)) {\n                let count = this.counter.get(uniqueKey);\n                count--;\n                if (count === 0) {\n                    const linkNode = this.linkRefs.get(uniqueKey);\n                    this.removePreloadLink(linkNode);\n                    this.counter.delete(uniqueKey);\n                    this.linkRefs.delete(uniqueKey);\n                }\n                else {\n                    this.counter.set(uniqueKey, count);\n                }\n            }\n        };\n    }\n    appendPreloadLink(option) {\n        const linkNode = this.document.createElement('link');\n        linkNode.setAttribute('rel', 'preload');\n        linkNode.setAttribute('as', 'image');\n        linkNode.setAttribute('href', option.src);\n        if (option.srcset) {\n            linkNode.setAttribute('imagesrcset', option.srcset);\n        }\n        this.document.head.appendChild(linkNode);\n        return linkNode;\n    }\n    removePreloadLink(linkNode) {\n        if (this.document.head.contains(linkNode)) {\n            this.document.head.removeChild(linkNode);\n        }\n    }\n}\nImagePreloadService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.2.5\", ngImport: i0, type: ImagePreloadService, deps: [{ token: DOCUMENT }, { token: i1.Platform }], target: i0.ɵɵFactoryTarget.Injectable });\nImagePreloadService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.2.5\", ngImport: i0, type: ImagePreloadService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.2.5\", ngImport: i0, type: ImagePreloadService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () {\n        return [{ type: undefined, decorators: [{\n                        type: Inject,\n                        args: [DOCUMENT]\n                    }] }, { type: i1.Platform }];\n    } });\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { ImagePreloadService, NzBreakpointEnum, NzBreakpointService, NzDestroyService, NzDragService, NzResizeService, NzScrollService, NzSingletonService, gridResponsiveMap, siderResponsiveMap };\n"]},"metadata":{},"sourceType":"module"}